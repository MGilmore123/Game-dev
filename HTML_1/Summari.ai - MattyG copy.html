<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111" />



  
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js"></script>


  <title>Summari.ai - MattyG</title>

    <link rel="canonical" href="https://codepen.io/mattyg-the-scripter/pen/ZYWVxLW">
  
  
  
  
<style>
/* --- 1. Variables & Branding --- */
:root {
  /* Default Brand Color: Emerald Green (#10b981) */
  --primary-h: 158; 
  --primary-s: 64%; 
  --primary-l: 52%; 
  --color-primary: hsl(var(--primary-h), var(--primary-s), var(--primary-l));
  
  /* Light Mode Colors */
  --color-light-bg: #f0fdf4; /* Background */
  --color-light-card: #ffffff; /* Card/Glass BG */
  --color-light-text: #1f2937; /* Primary Text (Dark) */
  --color-light-text-secondary: #4b5563; /* Secondary Text (Gray) */
  --color-light-border: #e5e7eb; /* Light Gray Border */
  --color-light-shadow: #d1d5db; /* Shadow Base */
  --color-light-bg-texture: #f9fafb; /* Subtle Texture */

  /* Dark Mode Colors - Will be applied via JS */
  --color-dark-bg: #0d1117; 
  --color-dark-card: #161b22; 
  --color-dark-text: #f0f6fc; 
  --color-dark-text-secondary: #8b949e; 
  --color-dark-border: #30363d;
  --color-dark-shadow: #010409;
  --color-dark-bg-texture: #0c0e11; 

  /* Font Families */
  --font-body: 'Inter', sans-serif;
  --font-a11y: 'Lexend', sans-serif; 
}

/* Base Styles */
body {
  background-color: var(--color-light-bg);
  font-family: var(--font-body);
  transition: background-color 0.5s;
}

/* --- Dark Mode Class --- */
.dark {
  background-color: var(--color-dark-bg);
  color: var(--color-dark-text);
}

/* Tailwind Overrides for Dynamic Colors */
.bg-primary { background-color: var(--color-primary) !important; }
.text-primary { color: var(--color-primary) !important; }
.border-primary { border-color: var(--color-primary) !important; }
.accent-primary { accent-color: var(--color-primary) !important; }
.from-primary { --tw-gradient-from: var(--color-primary) !important; }
.shadow-primary\/20 { --tw-shadow-color: hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.2); }
.shadow-primary\/30 { --tw-shadow-color: hsla(var(--primary-h), var(--primary-s), var(--primary-l), 0.3); }

/* Theme Colors (Mapped to new variables) */
.bg-light-bg { background-color: var(--color-light-bg); }
.bg-light-bg-texture { background-image: url('https://www.transparenttextures.com/patterns/cubes.png'); background-color: var(--color-light-bg-texture); }

.bg-light-card { background-color: var(--color-light-card); }
.text-light-text { color: var(--color-light-text); }
.text-light-text-secondary { color: var(--color-light-text-secondary); }
.border-light-border { border-color: var(--color-light-border); }
.shadow-light-shadow\/50 { --tw-shadow-color: hsla(0, 0%, 0%, 0.1); } 

/* Text Area Styling */
#input-text-area {
    background-color: var(--color-light-bg);
    border-color: var(--color-light-border);
    color: var(--color-light-text);
}
#input-text-area::placeholder {
    color: var(--color-light-text-secondary);
    opacity: 0.6;
}

/* --- Dark Mode Specifics --- */
.dark .bg-light-bg { background-color: var(--color-dark-bg); }
.dark .bg-light-card { background-color: var(--color-dark-card); }
.dark .text-light-text { color: var(--color-dark-text); }
.dark .text-light-text-secondary { color: var(--color-dark-text-secondary); }
.dark .border-light-border { border-color: var(--color-dark-border); }
.dark .shadow-light-shadow\/50 { --tw-shadow-color: hsla(0, 0%, 0%, 0.5); }
.dark .bg-light-bg-texture { background-color: var(--color-dark-bg-texture); }
.dark .glass-panel {
    background: rgba(22, 27, 34, 0.7); 
    border-color: var(--color-dark-border);
}
.dark #input-text-area {
    background-color: var(--color-dark-bg);
    border-color: var(--color-dark-border);
    color: var(--color-dark-text);
}


/* --- 2. Glassmorphism & Accessibility --- */
.glass-panel {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.dark .glass-panel {
    background: rgba(22, 27, 34, 0.7);
    border-color: var(--color-dark-border);
}

.dyslexia-mode {
  font-family: var(--font-a11y) !important;
  letter-spacing: 0.05em;
  line-height: 2 !important;
}

.dyslexia-mode .text-light-text-secondary,
.dyslexia-mode .text-light-text {
  color: #000 !important; 
}
.dark.dyslexia-mode .text-light-text-secondary,
.dark.dyslexia-mode .text-light-text {
  color: var(--color-dark-text) !important; 
}


/* --- 3. Toggle Switch & Scrollbar (Non-dynamic) --- */
.toggle-checkbox:checked {
  right: 0;
  border-color: var(--color-primary);
}
.toggle-checkbox:checked + .toggle-label {
  background-color: var(--color-primary);
}
.toggle-checkbox {
  right: 0;
  z-index: 1;
  transition: all 0.3s;
}
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--color-light-border);
  border-radius: 20px;
}
.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--color-dark-border);
}


/* --- 4. Animations --- */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in-up {
  animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}
@keyframes pulseSlow {
  0%, 100% { transform: scale(1); opacity: 0.1; }
  50% { transform: scale(1.2); opacity: 0.2; }
}
.animate-pulse-slow {
  animation: pulseSlow 10s infinite ease-in-out;
}
@keyframes shine {
  100% { left: 125%; }
}
.animate-shine {
  animation: shine 3s infinite;
}
</style>

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
</head>

<body translate="no">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght=300;400;600;800&family=Lexend:wght=300;400;500;600&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/@phosphor-icons/web"></script>

<div id="app-container" class="min-h-screen transition-colors duration-500 relative overflow-hidden font-['Inter'] selection:bg-primary selection:text-white bg-light-bg text-light-text">
  
  <div class="absolute top-0 left-0 w-full h-full overflow-hidden -z-10">
    <div id="blob-1" class="absolute top-[-10%] right-[-5%] w-[600px] h-[600px] rounded-full bg-primary opacity-10 blur-[120px] animate-pulse-slow transition-colors duration-500"></div>
    <div id="blob-2" class="absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-teal-400 opacity-10 blur-[100px] animate-pulse-slow transition-colors duration-500" style="animation-delay: 2s;"></div>
  </div>

  <nav class="flex flex-col md:flex-row justify-between items-center p-6 max-w-7xl mx-auto z-20 relative gap-4">
    <div class="flex items-center gap-3">
      <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-primary to-emerald-700 flex items-center justify-center text-white shadow-xl shadow-primary/20 transform hover:scale-105 transition-transform duration-300">
        <i class="ph-duotone ph-file-text text-2xl"></i>
      </div>
      <div>
        <h1 class="text-2xl font-extrabold text-light-text tracking-tight leading-none">Summri.<span class="text-primary">ai</span></h1>
        <p class="text-xs text-gray-500 font-medium tracking-wide">INTELLIGENT DOCUMENT PROCESSING</p>
      </div>
    </div>
    
    <div class="flex items-center gap-4 bg-light-card/70 backdrop-blur-md p-2 pl-4 rounded-full shadow-lg border border-light-border/60">
      
      <button id="theme-toggle" class="w-10 h-10 rounded-full flex items-center justify-center text-gray-600 bg-white shadow-inner hover:bg-gray-50 transition-colors duration-300" title="Toggle Light/Dark Mode">
          <i id="theme-icon" class="ph-bold ph-moon text-xl"></i>
      </button>

      <div class="flex items-center gap-2 border-r border-gray-200 pr-4">
        <label for="a11y-toggle" class="text-xs font-bold text-gray-600 cursor-pointer select-none">Dyslexia Mode</label>
        <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
            <input type="checkbox" name="toggle" id="a11y-toggle" class="toggle-checkbox absolute block w-5 h-5 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
            <label for="a11y-toggle" class="toggle-label block overflow-hidden h-5 rounded-full bg-gray-300 cursor-pointer"></label>
        </div>
      </div>

      <div class="flex items-center gap-2 pr-2">
        <input type="color" id="color-picker" value="#10b981" class="w-8 h-8 rounded-full cursor-pointer border-2 border-white shadow-md transition-transform hover:scale-110" title="Change Brand Color">
      </div>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto p-4 md:p-8 grid grid-cols-1 lg:grid-cols-12 gap-8 items-start mt-4 z-10 relative">
    
    <section class="lg:col-span-5 space-y-6 animate-fade-in-up">
      <div class="text-left mb-6">
        <h2 class="text-4xl md:text-5xl font-extrabold text-light-text leading-[1.1] mb-4 transition-colors duration-500">
          Unpack complexity. <br>
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-emerald-600">Save 70% reading time.</span>
        </h2>
        <p class="text-lg text-light-text-secondary font-light leading-relaxed transition-colors duration-500">
          Paste text or drop a file to begin the AI analysis.
        </p>
      </div>

      <div class="glass-panel bg-light-card border-light-border p-8 rounded-[2rem] shadow-2xl shadow-light-shadow/50 relative overflow-hidden group transition-colors duration-500">
        
        <div id="drop-zone" class="relative">
            <input type="file" id="file-upload" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20" accept=".pdf,.docx,.txt" />
            
            <textarea
                id="input-text-area"
                rows="10"
                placeholder="Paste your document text here (or drag and drop a file above)..."
                class="w-full p-4 text-lg rounded-2xl border-2 border-gray-300 bg-light-bg/50 focus:outline-none focus:border-primary transition-all duration-300 text-light-text resize-none"
            ></textarea>
            
            <div id="input-helper" class="flex justify-between text-sm mt-2 text-light-text-secondary">
                <span id="char-count">0 characters</span>
                <span id="file-tag" class="hidden inline-flex items-center gap-2 px-3 py-0.5 bg-primary/10 text-primary rounded-full text-xs font-bold transition-opacity">
                    <i class="ph-bold ph-check"></i> <span id="file-name-text">File ready</span>
                </span>
            </div>
        </div>

        <div class="mt-8 space-y-6">
          <div>
            <div class="flex justify-between items-center mb-2">
              <label class="text-sm font-bold text-light-text flex items-center gap-2">
                <i class="ph-bold ph-faders"></i> Summary Density
              </label>
              <span id="range-value" class="text-xs font-bold text-primary bg-primary/10 px-2 py-0.5 rounded transition-colors duration-500">Moderate (~30%)</span>
            </div>
            <input type="range" min="1" max="3" value="2" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary" id="density-slider">
            <div class="flex justify-between text-xs text-light-text-secondary mt-2 font-medium transition-colors duration-500">
              <span>Brief (10%)</span>
              <span>Moderate (30%)</span>
              <span>Detailed (50%)</span>
            </div>
          </div>

          <button id="submit-btn" disabled class="w-full py-4 rounded-xl font-bold text-white text-lg shadow-lg shadow-primary/30 transition-all duration-300 transform hover:-translate-y-1 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-3 bg-gradient-to-r from-primary to-emerald-600 overflow-hidden relative">
            <span class="relative z-10">Process Document</span>
            <i class="ph-bold ph-arrow-right relative z-10"></i>
            <div class="absolute top-0 -left-full w-full h-full bg-white/20 skew-x-[20deg] animate-shine"></div>
          </button>
        </div>
      </div>
    </section>

    <section class="lg:col-span-7 relative min-h-[600px] flex flex-col">
      
      <div id="empty-state" class="absolute inset-0 flex flex-col items-center justify-center text-center p-8 opacity-50 transition-opacity duration-500">
        <div class="w-full h-full absolute inset-0 bg-light-bg-texture opacity-[0.03] transition-colors duration-500"></div>
        <div class="w-32 h-32 bg-light-bg rounded-full flex items-center justify-center mb-6 transition-colors duration-500">
           <i class="ph-duotone ph-article text-5xl text-gray-300"></i>
        </div>
        <h3 class="text-xl font-bold text-light-text-secondary transition-colors duration-500">Ready to summarize</h3>
        <p class="text-sm text-light-text-secondary max-w-xs mt-2 transition-colors duration-500">Paste text or upload a document to see the AI analysis here.</p>
      </div>

      <div id="loading-state" class="hidden absolute inset-0 z-30 flex flex-col items-center justify-center bg-light-card/80 backdrop-blur-xl rounded-[2.5rem] border border-light-border transition-colors duration-500">
        <div class="w-64 text-center">
          <div class="relative w-20 h-20 mx-auto mb-6">
            <svg class="animate-spin w-full h-full text-gray-200" viewBox="0 0 24 24">
               <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
               <path class="opacity-75 text-primary" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-light-text transition-colors duration-500">Analyzing Text</h3>
          <p id="loading-text" class="text-sm text-light-text-secondary font-medium transition-colors duration-500">Connecting to Claude API...</p>
        </div>
      </div>

      <div id="result-card" class="hidden relative z-10 bg-light-card/90 backdrop-blur-md rounded-[2.5rem] shadow-2xl shadow-light-shadow/50 border border-light-border/80 p-8 h-full flex flex-col animate-fade-in-up transition-colors duration-500">
        
        <div class="flex justify-between items-start mb-8 pb-6 border-b border-light-border transition-colors duration-500">
          <div>
            <div class="flex items-center gap-2 mb-1">
               <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
               <span class="text-[10px] font-bold uppercase tracking-widest text-gray-400">AI Analysis Complete</span>
            </div>
            <h3 class="text-3xl font-bold text-light-text transition-colors duration-500">Document Summary</h3>
          </div>
          <div class="flex gap-2">
             <button class="w-10 h-10 rounded-xl bg-light-bg hover:bg-gray-100 flex items-center justify-center text-light-text-secondary transition-colors duration-500" title="Copy Text">
               <i class="ph-bold ph-copy"></i>
             </button>
             <button class="w-10 h-10 rounded-xl bg-primary text-white flex items-center justify-center shadow-lg shadow-primary/30 hover:bg-emerald-600 transition-colors" title="Download PDF">
               <i class="ph-bold ph-download-simple"></i>
             </button>
          </div>
        </div>
        
        <div id="summary-content" class="prose prose-emerald max-w-none text-light-text-secondary leading-loose flex-grow overflow-y-auto pr-4 custom-scrollbar transition-colors duration-500">
           </div>

        <div class="mt-8 pt-6 border-t border-light-border grid grid-cols-3 gap-4 transition-colors duration-500">
           <div class="text-center">
              <p class="text-xs text-gray-400 font-bold uppercase">Time Saved</p>
              <p class="text-lg font-bold text-light-text transition-colors duration-500">~15 mins</p>
           </div>
           <div class="text-center border-l border-light-border">
              <p class="text-xs text-gray-400 font-bold uppercase">Reduction</p>
              <p class="text-lg font-bold text-primary">70%</p>
           </div>
           <div class="text-center border-l border-light-border">
              <p class="text-xs text-gray-400 font-bold uppercase">Model</p>
              <p class="text-lg font-bold text-light-text transition-colors duration-500">Claude 3</p>
           </div>
        </div>

      </div>
      
    </section>
  </main>
</div>
  
    <script id="rendered-js" >
document.addEventListener('DOMContentLoaded', () => {
  // --- DOM Elements ---
  const appContainer = document.getElementById('app-container');
  const colorPicker = document.getElementById('color-picker');
  const themeToggle = document.getElementById('theme-toggle');
  const themeIcon = document.getElementById('theme-icon');
  const a11yToggle = document.getElementById('a11y-toggle');

  // New Input Elements
  const inputTextarea = document.getElementById('input-text-area');
  const charCountDisplay = document.getElementById('char-count');
  const fileInput = document.getElementById('file-upload');
  const dropZone = document.getElementById('drop-zone');
  const fileTag = document.getElementById('file-tag');
  const fileNameText = document.getElementById('file-name-text');

  const submitBtn = document.getElementById('submit-btn');
  const densitySlider = document.getElementById('density-slider');
  const rangeValue = document.getElementById('range-value');

  // UI State Elements
  const emptyState = document.getElementById('empty-state');
  const loadingState = document.getElementById('loading-state');
  const loadingText = document.getElementById('loading-text');
  const resultCard = document.getElementById('result-card');
  const summaryContent = document.getElementById('summary-content');

  // --- 1. Dynamic Color Engine (Same) ---
  function hexToHSL(H) {
    let r = 0,g = 0,b = 0;
    if (H.length == 4) {
      r = "0x" + H[1] + H[1];g = "0x" + H[2] + H[2];b = "0x" + H[3] + H[3];
    } else if (H.length == 7) {
      r = "0x" + H[1] + H[2];g = "0x" + H[3] + H[4];b = "0x" + H[5] + H[6];
    }
    r /= 255;g /= 255;b /= 255;
    let cmin = Math.min(r, g, b),cmax = Math.max(r, g, b),delta = cmax - cmin;
    let h = 0,s = 0,l = 0;
    if (delta == 0) h = 0;else
    if (cmax == r) h = (g - b) / delta % 6;else
    if (cmax == g) h = (b - r) / delta + 2;else
    h = (r - g) / delta + 4;
    h = Math.round(h * 60);if (h < 0) h += 360;
    l = (cmax + cmin) / 2;
    s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));
    s = +(s * 100).toFixed(1);l = +(l * 100).toFixed(1);
    return { h, s, l };
  }

  colorPicker.addEventListener('input', e => {
    const hsl = hexToHSL(e.target.value);
    document.documentElement.style.setProperty('--primary-h', hsl.h);
    document.documentElement.style.setProperty('--primary-s', hsl.s + '%');
    document.documentElement.style.setProperty('--primary-l', hsl.l + '%');
  });

  // --- 2. Dark/Light Mode Toggle (Same) ---
  const isDarkMode = () => appContainer.classList.contains('dark');

  const swapThemeColors = mode => {
    const root = document.documentElement.style;
    const colorMap = mode === 'dark' ? {
      'light-bg': 'dark-bg', 'light-card': 'dark-card',
      'light-text': 'dark-text', 'light-text-secondary': 'dark-text-secondary',
      'light-border': 'dark-border', 'light-shadow': 'dark-shadow',
      'light-bg-texture': 'dark-bg-texture' } :
    {
      'dark-bg': 'light-bg', 'dark-card': 'light-card',
      'dark-text': 'light-text', 'dark-text-secondary': 'light-text-secondary',
      'dark-border': 'light-border', 'dark-shadow': 'light-shadow',
      'dark-bg-texture': 'light-bg-texture' };


    for (const [lightVar, darkVar] of Object.entries(colorMap)) {
      const tempVal = getComputedStyle(document.documentElement).getPropertyValue(`--color-${darkVar}`);
      root.setProperty(`--color-${lightVar}`, tempVal);
    }
  };

  const toggleDarkMode = () => {
    if (isDarkMode()) {
      appContainer.classList.remove('dark');
      themeIcon.classList.replace('ph-sun', 'ph-moon');
      swapThemeColors('light');
      localStorage.setItem('theme', 'light');
    } else {
      appContainer.classList.add('dark');
      themeIcon.classList.replace('ph-moon', 'ph-sun');
      swapThemeColors('dark');
      localStorage.setItem('theme', 'dark');
    }
  };

  const storedTheme = localStorage.getItem('theme');
  if (storedTheme === 'dark' || !storedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    appContainer.classList.add('dark');
    themeIcon.classList.replace('ph-moon', 'ph-sun');
    swapThemeColors('dark');
  }

  themeToggle.addEventListener('click', toggleDarkMode);

  // --- 3. Accessibility Toggle (Same) ---
  a11yToggle.addEventListener('change', e => {
    if (e.target.checked) {
      appContainer.classList.add('dyslexia-mode');
    } else {
      appContainer.classList.remove('dyslexia-mode');
    }
  });

  // --- 4. Density Slider Logic (Same) ---
  const densityLabels = ["Brief (10%)", "Moderate (30%)", "Detailed (50%)"];
  densitySlider.addEventListener('input', e => {
    const val = parseInt(e.target.value) - 1;
    rangeValue.textContent = densityLabels[val];
  });

  // --- 5. New Input Handling (Copy/Paste & File) ---

  // Function to check if submission is ready
  const updateSubmitState = () => {
    const textLength = inputTextarea.value.trim().length;
    const fileSelected = fileInput.files.length > 0;

    if (textLength > 50 || fileSelected) {// Require at least 50 chars or a file
      submitBtn.disabled = false;
    } else {
      submitBtn.disabled = true;
      fileTag.classList.add('hidden'); // Ensure file tag is hidden if text is cleared
    }

    // Update character count
    charCountDisplay.textContent = `${textLength} characters`;
  };

  // Handler for text area changes (typing/pasting)
  inputTextarea.addEventListener('input', () => {
    // Clear any previous file state if user starts typing/pasting
    fileInput.value = '';
    fileTag.classList.add('hidden');
    updateSubmitState();
  });


  // Handler for file selection (via click/browse)
  fileInput.addEventListener('change', e => {
    if (e.target.files.length) {
      const file = e.target.files[0];
      inputTextarea.value = ''; // Clear text area if a file is uploaded
      fileTag.classList.remove('hidden');
      fileNameText.textContent = `File ready: ${file.name}`;
      updateSubmitState();
    }
  });

  // Handler for Drag & Drop
  const handleDrop = file => {
    fileInput.files = new DataTransfer().files; // Clear file input first (for real file uploads)

    // Mock setting the file state
    inputTextarea.value = '';
    fileTag.classList.remove('hidden');
    fileNameText.textContent = `File ready: ${file.name}`;
    updateSubmitState();
  };

  // Drag/Drop Prevention & Styling
  ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
    dropZone.addEventListener(eventName, e => {e.preventDefault();e.stopPropagation();}, false);
  });
  ['dragenter', 'dragover'].forEach(eventName => {
    dropZone.addEventListener(eventName, () => dropZone.classList.add('drag-over'), false);
  });
  ['dragleave', 'drop'].forEach(eventName => {
    dropZone.addEventListener(eventName, () => dropZone.classList.remove('drag-over'), false);
  });

  dropZone.addEventListener('drop', e => {
    const files = e.dataTransfer.files;
    if (files.length > 0) handleDrop(files[0]);
  });


  // --- 6. MOCK DATA (Same) ---
  const MOCK_SUMMARIES = [
  // 1. Brief
  `
        <div class="space-y-4">
            <h4 class="text-xl font-bold text-light-text transition-colors duration-500">Executive Summary</h4>
            <p>The <strong>Summri.ai</strong> web tool is designed for researchers, students, and users with <strong>learning differences (Dyslexia/ADHD)</strong>. It achieves a <strong>70% reading time reduction</strong> by transforming complex documents into clear, accessible summaries using the <strong>Claude API</strong>. It features dynamic length adjustment and cost-minimization via caching and tiered usage.</p>
            
            <h4 class="text-xl font-bold text-light-text mt-6 transition-colors duration-500">Core Functionality</h4>
            <p>The system utilizes file parsing, preprocessing, and an AI prompt to extract key concepts, ensuring clarity and simplicity in the final output.</p>
        </div>
        `,
  // 2. Moderate (Default)
  `
        <div class="space-y-6">
            <div class="p-4 bg-green-50 rounded-xl border border-green-100 dark:bg-dark-card dark:border-dark-border transition-colors duration-500">
                <h4 class="font-bold text-light-text flex items-center gap-2 transition-colors duration-500">
                    <i class="ph-bold ph-lightbulb text-primary"></i> Key Concepts Highlighted
                </h4>
                <div class="flex flex-wrap gap-2 mt-2">
                   <span class="px-2 py-1 bg-white rounded-md text-xs font-semibold text-gray-600 border shadow-sm dark:bg-dark-bg dark:border-dark-border dark:text-gray-400 transition-colors duration-500">Accessibility Focus</span>
                   <span class="px-2 py-1 bg-white rounded-md text-xs font-semibold text-gray-600 border shadow-sm dark:bg-dark-bg dark:border-dark-border dark:text-gray-400 transition-colors duration-500">70% Time Reduction</span>
                   <span class="px-2 py-1 bg-white rounded-md text-xs font-semibold text-gray-600 border shadow-sm dark:bg-dark-bg dark:border-dark-border dark:text-gray-400 transition-colors duration-500">Claude API</span>
                   <span class="px-2 py-1 bg-white rounded-md text-xs font-semibold text-gray-600 border shadow-sm dark:bg-dark-bg dark:border-dark-border dark:text-gray-400 transition-colors duration-500">Tiered Usage Model</span>
                </div>
            </div>

            <div>
                <h4 class="text-xl font-bold text-light-text transition-colors duration-500">Problem & Solution</h4>
                <p>The **Summri.ai** tool addresses the struggle of processing dense text by intelligently extracting core ideas while removing "fluff," making information immediately comprehensible for faster review and better learning outcomes.</p>
            </div>

            <div>
                <h4 class="text-xl font-bold text-light-text transition-colors duration-500">Technical Architecture</h4>
                <ul class="list-disc pl-5 space-y-2 mt-2 marker:text-primary">
                    <li><strong>Frontend:</strong> React.js with Tailwind CSS (for full implementation).</li>
                    <li><strong>Backend (Planned):</strong> Node.js/Express handling file parsing (pdf-parse, mammoth).</li>
                    <li><strong>AI Engine:</strong> Anthropic Claude API for natural language processing.</li>
                </ul>
            </div>
        </div>
        `,
  // 3. Detailed
  `
        <div class="space-y-8">
            <div class="border-l-4 border-primary pl-4">
                <h4 class="text-xl font-bold text-light-text transition-colors duration-500">Project Mission</h4>
                <p class="italic text-light-text-secondary transition-colors duration-500">To make information accessible to people with attention deficits and dyslexia by reducing reading time by 70%.</p>
            </div>

            <div>
                <h4 class="text-lg font-bold text-light-text mb-2 transition-colors duration-500">1. Detailed Algorithm Flow</h4>
                <p>The application follows a strict 7-step process: Input -> Preprocessing (remove headers/footers) -> Send to Claude API with prompts emphasizing <em>clarity and simplicity</em> -> Post-Processing (highlight key terms) -> Display with options.</p>
            </div>

            <div>
                <h4 class="text-lg font-bold text-light-text mb-2 transition-colors duration-500">2. Evaluation & Risks</h4>
                <p>Success is measured by a <strong>Summary Quality Score (>85%)</strong> and user retention (>60%). The primary risk is <strong>API Cost</strong>. Mitigation includes:</p>
                <ul class="list-disc pl-5 mt-2 space-y-1 text-sm bg-gray-50 p-3 rounded-lg dark:bg-dark-bg transition-colors duration-500">
                   <li>Daily spending alerts ($50 limit).</li>
                   <li>Caching previously summarized documents.</li>
                   <li>Hybrid approaches using traditional NLP for initial reduction.</li>
                </ul>
            </div>

            <div>
                <h4 class="text-lg font-bold text-light-text mb-2 transition-colors duration-500">3. Future Considerations</h4>
                <p>The roadmap includes **collaborative features** allowing research teams to annotate summaries together in shared workspaces, and side-by-side comparison of different summary lengths.</p>
            </div>
        </div>
        `];


  // --- 7. Submission & Simulation Logic (Same) ---
  submitBtn.addEventListener('click', () => {
    // Check if submission is valid based on updated logic
    const textLength = inputTextarea.value.trim().length;
    const fileSelected = fileInput.files.length > 0;
    if (textLength < 50 && !fileSelected) return;

    // UI Updates
    emptyState.classList.add('hidden');
    resultCard.classList.add('hidden');
    loadingState.classList.remove('hidden');
    submitBtn.disabled = true;
    submitBtn.classList.add('opacity-75');

    // Loading Steps Simulation
    const steps = [
    textLength > 0 ? "Analyzing pasted text structure..." : "Extracting file contents...",
    "Removing headers and footers...",
    "Identifying paragraph boundaries...",
    "Sending to Claude API...",
    "Generating key concepts..."];


    let step = 0;
    const interval = setInterval(() => {
      if (step < steps.length) {
        loadingText.textContent = steps[step];
        step++;
      }
    }, 800);

    // Finish Simulation
    setTimeout(() => {
      clearInterval(interval);
      loadingState.classList.add('hidden');
      resultCard.classList.remove('hidden');

      // Inject content based on slider value (0, 1, or 2)
      const densityIndex = parseInt(densitySlider.value) - 1;
      summaryContent.innerHTML = MOCK_SUMMARIES[densityIndex];

      submitBtn.disabled = false;
      submitBtn.classList.remove('opacity-75');
      submitBtn.innerHTML = `<span class="relative z-10">Summarize Another</span>`;

    }, 4500); // 4.5s total wait time
  });

  // Initial check when page loads
  updateSubmitState();
});
//# sourceURL=pen.js
  </script>

  
</body>

</html>
